fragment PostContentLinks on PostContentLinks {
    assets {
        block {
            contentType
            description
            height
            sys {
                id
            }
            title
            url
            width
        }
    }
    entries {
        block {
            __typename
            sys {
                id
            }
        }
    }
}

query Posts($limit: Int, $index: Int, $preview: Boolean, $slug: String) {
    postCollection(limit: $limit, preview: $preview, skip: $index, where: { slug: $slug }) {
        items {
            sys {
                firstPublishedAt
                id
                publishedAt
            }
            content {
                json
                links {
                    ...PostContentLinks
                }
            }
            image {
                url(transform: { format: WEBP })
            }
            slug
            title
        }
    }
}
